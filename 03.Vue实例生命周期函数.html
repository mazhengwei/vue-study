<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>生命周期函数</title>
    <script src="./vue.js"></script>
</head>
<body>
<div id="app">
    <h2>{{msg}}</h2>
    <button @click="onClick">计时器{{msg}}</button>
    <button @click="destroy">点我销毁</button>
</div>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            msg: 0,
        },
        methods: {
            onClick: function () {
                this.msg++
            },
            destroy: function () {
                this.$destroy()
            },
            hello: function ()  {
                this.msg++
                return this.msg
            }
        },
        beforeCreate() {
            console.log('-----beforeCreate-----')
            console.log('el ' + this.$el)   //el undefined
            console.log('msg ' + this.msg)  //msg undefined
        },
        created() {
            console.log('-----created-----')
            console.log('el ' + this.$el)  //el undefined
            console.log('old msg = ' + this.msg)  //old msg = 0
            console.log('调用methods, new msg = ' + this.hello())  //调用methods, new msg = 1
        },
        beforeMount() {
            console.log('-----beforeMount-----')
            console.log(this.$el)
        },
        mounted(){
            console.log('-----Mounted-----')
            console.log(this.$el)
        },
        beforeUpdate() {
            console.log('-----beforeUpdate-----')
            console.log('el ' + this.$el)
        },
        updated() {
            console.log('-----updated-----')
            console.log('el ' + this.$el)
        },
        beforeDestroy() {
            console.log('-----beforeDestroy-----')
            console.log(this.$el)
            console.log(this.msg)
        },
        destroyed() {
            console.log('-----destroyed-----')
            console.log('el ' + this.$el)
            console.log('msg ' + this.msg)
        },
    })
</script>
</body>
</html>